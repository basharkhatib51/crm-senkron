(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab8b5"],{1671:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("change-status",{attrs:{user:t.user},model:{value:t.changeStatus,callback:function(e){t.changeStatus=e},expression:"changeStatus"}}),s("change-password",{attrs:{user:t.user},model:{value:t.changePassword,callback:function(e){t.changePassword=e},expression:"changePassword"}}),s("change-role",{attrs:{user:t.user},model:{value:t.changeRole,callback:function(e){t.changeRole=e},expression:"changeRole"}}),s("b-modal",{attrs:{title:t.$t("Delete User"),"ok-title":t.$t("Delete"),"cancel-title":t.$t("cancel"),"ok-variant":"danger","cancel-variant":"primary"},on:{close:function(e){t.deleteUser=!1},cancel:function(e){t.deleteUser=!1},ok:t.ConfirmDelete},model:{value:t.deleteUser,callback:function(e){t.deleteUser=e},expression:"deleteUser"}},[s("b-badge",{staticClass:"mt-1",attrs:{variant:"light-danger"}},[t._v(" "+t._s(t.$t("are you sure you want to delete this User"))+" ")])],1),s("h3",{staticClass:"mb-3"},[t._v(" "+t._s(t.$t("Users"))+" ")]),s("b-row",[s("b-col",{attrs:{cols:"6"}},[s("b-button",{attrs:{variant:"gradient-success"},on:{click:function(e){return t.$router.push({name:"user.create"})}}},[t._v(" "+t._s(t.$t("Create new"))+" ")])],1),s("b-col",{staticClass:"d-flex justify-content-end",attrs:{cols:"6"}},[s("b-button",{attrs:{variant:"gradient-danger"},on:{click:function(e){return t.$router.push({name:"user.trashed"})}}},[s("font-awesome-icon",{attrs:{icon:["fas","trash"]}}),t._v(" "+t._s(t.$t("Trashed"))+" ")],1)],1)],1),s("b-overlay",{attrs:{show:t.elementLoading,rounded:"sm",variant:"transparent",opacity:.8,blur:"2px","spinner-variant":"primary","spinner-type":"grow","spinner-small":""}},[s("b-card",{staticClass:"mt-5"},[s("b-card-title",[s("b-row",[s("b-col",{attrs:{cols:"8"}},[s("h3",[t._v(" "+t._s(t.$t("Users"))+" ")])]),s("b-col",{attrs:{cols:"4"}},[s("b-input-group",[s("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:t.$t("Type to Search")},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)],1)],1)],1),t.items.length>0?s("b-table",{staticClass:"table-w-max",attrs:{fields:t.fields,responsive:"sm",items:t.items,filter:t.filter,"per-page":t.perPage,"current-page":t.currentPage},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[s("b-badge",{attrs:{pill:"",variant:"light-primary"}},[t._v(" "+t._s(e.item.no)+" ")])]}},{key:"cell(avatar)",fn:function(e){return[s("b-avatar",{attrs:{src:t.path(e.value)}})]}},{key:"cell(name)",fn:function(e){return[s("div",[s("font-awesome-icon",{staticClass:"text-primary",attrs:{icon:["fas","id-card"]}}),t._v(" "+t._s(e.item.first_name)+" "+t._s(e.item.last_name)+" ")],1)]}},{key:"cell(user_name)",fn:function(e){return[s("div",[s("font-awesome-icon",{staticClass:"text-primary",attrs:{icon:["fas","user"]}}),t._v(" "+t._s(e.value)+" ")],1)]}},{key:"cell(contact)",fn:function(e){return[s("div",[e.item.email?s("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:"Press to send email",variant:"primary",placement:"top"},expression:"{title:'Press to send email',variant:'primary',placement:'top'}",modifiers:{hover:!0}}]},[s("font-awesome-icon",{staticClass:"text-primary",attrs:{icon:["fas","envelope"]}}),s("a",{attrs:{href:"mailto:"+e.item.email}},[t._v(" "+t._s(e.item.email)+" ")])],1):t._e(),e.item.phone?s("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:"Press to make call",variant:"primary",placement:"top"},expression:"{title:'Press to make call',variant:'primary',placement:'top'}",modifiers:{hover:!0}}]},[s("font-awesome-icon",{staticClass:"text-primary",attrs:{icon:["fas","phone"]}}),s("a",{attrs:{href:"tel:"+e.item.phone}},[t._v(" "+t._s(e.item.phone)+" ")])],1):t._e()])]}},{key:"cell(created_at_updated_at)",fn:function(e){return[s("div",[s("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.item.created_at,variant:"success",placement:"top"},expression:"{title:data.item.created_at,variant:'success',placement:'top'}",modifiers:{hover:!0}}],attrs:{variant:"light-success"}},[s("font-awesome-icon",{attrs:{icon:["fas","table"]}}),t._v(" "+t._s(e.item.created_from)+" ")],1),s("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.item.created_at,variant:"warning",placement:"top"},expression:"{ title:data.item.created_at,variant:'warning',placement:'top'}",modifiers:{hover:!0}}],staticClass:"ml-1",attrs:{variant:"light-warning"}},[s("font-awesome-icon",{attrs:{icon:["fas","calendar-week"]}}),t._v(" "+t._s(e.item.updated_from)+" ")],1)],1)]}},{key:"cell(role)",fn:function(e){return[s("b-badge",{attrs:{variant:"light-primary"}},[s("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:["fas","key"]}}),e.value?s("span",[t._v(" "+t._s(e.value)+" ")]):s("span",[t._v(" No Roles Yet ")]),e.value?s("b-badge",{staticClass:"badge-glow ml-1",attrs:{pill:"",variant:"primary"}},[t._v(t._s(e.item.permissions.length)+" ")]):t._e()],1)]}},{key:"cell(options)",fn:function(e){return[s("div",[s("router-link",{staticClass:"text-success",attrs:{to:{name:"user.edit",params:{user:e.item.id}}}},[s("font-awesome-icon",{attrs:{icon:["fas","edit"]}})],1),s("a",{staticClass:"ml-1 text-danger",on:{click:function(s){return t.Delete(e.item.id)}}},[s("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1),s("a",{staticClass:"ml-1 text-warning",on:{click:function(s){return t.ChangePassword(e.item.id)}}},[s("font-awesome-icon",{attrs:{icon:["fas","key"]}})],1),s("a",{staticClass:"ml-1",on:{click:function(s){return t.ChangeStatus(e.item.id)}}},[s("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.item.status,variant:"active"===e.item.status?"success":"danger",placement:"top"},expression:"{title:data.item.status,variant:data.item.status==='active'?'success':'danger',placement:'top'}",modifiers:{hover:!0}}],class:"active"===e.item.status?"text-success":"text-danger",attrs:{icon:["fas","active"===e.item.status?"toggle-on":"toggle-off"]}})],1),s("a",{staticClass:"ml-1 text-info",on:{click:function(s){return t.ChangeRole(e.item.id)}}},[s("font-awesome-icon",{attrs:{icon:["fas","user-shield"]}})],1)],1)]}}],null,!1,3548085916)}):s("b-row",{staticClass:"d-flex justify-content-center"},[s("b-col",{attrs:{cols:"4"}},[s("b-alert",{attrs:{variant:"danger",show:""}},[s("div",{staticClass:"alert-body text-center"},[s("span",[t._v(t._s(t.$t("No Data Available")))])])])],1)],1),s("b-row",[s("b-col",{staticClass:"d-flex justify-content-end mt-2",attrs:{cols:"12"}},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"center",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1),s("user-exp")],1)},r=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-modal",{ref:"my-modal",attrs:{title:t.$t("Change Password"),"hide-footer":"","no-close-on-backdrop":""},on:{close:t.close,hide:t.close},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[s("div",{staticClass:"con-exemple-prompt"},[s("div",[s("div",{staticClass:"form-label-group"},[s("b-form-input",{staticClass:"mt-2",attrs:{id:"floating-label1",state:!t.errors.password&&null,type:"password",placeholder:t.$t("New Password")},model:{value:t.password.password,callback:function(e){t.$set(t.password,"password",e)},expression:"password.password"}}),t.errors.password?s("small",{staticClass:"text-danger"},[t._v(t._s(t.errors.password[0]))]):t._e(),s("label",[t._v(t._s(t.$t("New Password")))])],1)]),s("div",[s("div",{staticClass:"form-label-group"},[s("b-form-input",{staticClass:"mt-2",attrs:{id:"floating-label1",type:"password",state:!t.errors.password_confirmation&&null,placeholder:t.$t("Password Confirmation")},model:{value:t.password.password_confirmation,callback:function(e){t.$set(t.password,"password_confirmation",e)},expression:"password.password_confirmation"}}),t.errors.password_confirmation?s("small",{staticClass:"text-danger"},[t._v(t._s(t.errors.password_confirmation[0]))]):t._e(),s("label",[t._v(t._s(t.$t("Password Confirmation")))])],1)]),s("br"),t.GeneratedPassword?t._e():s("b-button",{attrs:{variant:"gradient-primary"},on:{click:t.GeneratePassword}},[t._v(" "+t._s(t.$t("Generated Password"))+" ")]),t.GeneratedPassword?s("div",[s("div",{staticClass:"form-label-group"},[s("b-form-input",{staticClass:"mt-2",attrs:{id:"PasswordToCopy",placeholder:t.$t("Generate Password")},model:{value:t.GeneratedPassword,callback:function(e){t.GeneratedPassword=e},expression:"GeneratedPassword"}}),s("label",[t._v(t._s(t.$t("Generate Password")))])],1),s("br"),s("b-button",{attrs:{variant:"gradient-warning"},on:{click:t.copy}},[t._v(" "+t._s(t.$t("Copy Password"))+" ")]),s("b-checkbox",{staticClass:"mr-4 mt-2",attrs:{"vs-value":"email"},model:{value:t.SavePlacePassword,callback:function(e){t.SavePlacePassword=e},expression:"SavePlacePassword"}},[t._v(" "+t._s(t.$t("I have copied this password in a safe place."))+" ")])],1):t._e(),s("br"),s("br"),s("div",[s("hr")]),s("div",{staticClass:"d-flex justify-content-end",on:{click:t.changePassword}},[s("b-button",{attrs:{variant:"gradient-success"}},[t._v(" "+t._s(t.$t("changePassword"))+" ")])],1),s("br")],1)])],1)},n=[],i=(s("a9e3"),s("fb6a"),s("d3b7"),s("25f0"),s("2b0e")),l={name:"ChangePassword",props:{value:{default:null,type:Boolean},user:{default:null,type:Number}},data:function(){return{password:{password_confirmation:"",password:""},SavePlacePassword:!0,GeneratedPassword:"",User:null,errors:[]}},computed:{isActive:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{close:function(){this.isActive=!1,this.SavePlacePassword=!0,this.errors=[],this.password.password="",this.password.password_confirmation="",this.GeneratedPassword=""},copy:function(){var t=document.querySelector("#PasswordToCopy");t.removeAttribute("disabled"),t.select(),this.SavePlacePassword=!0,document.execCommand("copy"),t.setAttribute("disabled","disabled"),!0===this.SavePlacePassword&&i["default"].prototype.$swal({icon:"success",title:"Success",text:"your password has been copied",showConfirmButton:!1,allowOutsideClick:!0})},GeneratePassword:function(){this.GeneratedPassword="".concat(Math.random().toString(36).slice(-8)+Math.random().toString(36).slice(-8),"_A*"),this.password.password=this.GeneratedPassword,this.password.password_confirmation=this.GeneratedPassword,this.SavePlacePassword=!1},changePassword:function(){var t=this;this.errors=[],!1===this.SavePlacePassword?this.isActive=!0:this.$store.dispatch("user/ChangePassword",{id:this.user,password:this.password}).then((function(){t.close()})).catch((function(e){e.response.data.errors&&(t.errors=e.response.data.errors)}))}}},c=l,u=s("2877"),d=Object(u["a"])(c,o,n,!1,null,"8b209584",null),m=d.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",{staticClass:"mt-5",attrs:{title:t.$t("Explanations")}},[s("b-row",[s("b-col",{staticClass:"mb-1",attrs:{cols:"6",md:"3"}},[s("b-badge",{attrs:{variant:"light-success"}},[s("font-awesome-icon",{attrs:{icon:["fas","table"]}}),t._v(" "+t._s(t.$t("Created At"))+" ")],1)],1),s("b-col",{staticClass:"mb-1",attrs:{cols:"6",md:"3"}},[s("b-badge",{attrs:{variant:"light-warning"}},[s("font-awesome-icon",{attrs:{icon:["fas","calendar-week"]}}),t._v(" "+t._s(t.$t("Updated At"))+" ")],1)],1),s("b-col",{staticClass:"mb-1",attrs:{cols:"6",md:"3"}},[s("b-badge",{attrs:{variant:"light-warning"}},[s("font-awesome-icon",{attrs:{icon:["fas","key"]}}),t._v(" "+t._s(t.$t("Change Password"))+" ")],1)],1),s("b-col",{staticClass:"mb-1",attrs:{cols:"6",md:"3"}},[s("b-badge",{attrs:{variant:"light-danger"}},[s("font-awesome-icon",{attrs:{icon:["fas","trash"]}}),t._v(" "+t._s(t.$t("Delete"))+" ")],1)],1),s("b-col",{staticClass:"mb-1",attrs:{cols:"6",md:"3"}},[s("b-badge",{attrs:{variant:"light-success"}},[s("font-awesome-icon",{attrs:{icon:["fas","edit"]}}),t._v(" "+t._s(t.$t("Edit"))+" ")],1)],1),s("b-col",{staticClass:"mb-1",attrs:{cols:"6",md:"3"}},[s("b-badge",{attrs:{variant:"light-info"}},[s("font-awesome-icon",{attrs:{icon:["fas","user-shield"]}}),t._v(" "+t._s(t.$t("Change Role"))+" ")],1)],1),s("b-col",{staticClass:"mb-1",attrs:{cols:"6",md:"3"}},[s("b-badge",{attrs:{variant:"light-primary"}},[s("font-awesome-icon",{attrs:{icon:["fas","toggle-off"]}}),t._v(" "+t._s(t.$t("Change Status"))+" ")],1)],1)],1)],1)],1)},h=[],v={name:"UserExp"},f=v,b=Object(u["a"])(f,p,h,!1,null,null,null),g=b.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-modal",{ref:"my-modal",attrs:{title:t.$t("Change Role"),"no-close-on-backdrop":"","hide-footer":""},on:{close:t.close,hide:t.close},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[s("b-row",[s("b-col",{staticClass:"mt-2 mb-2",attrs:{cols:"12"}},[s("label",[t._v(t._s(t.$t("Roles")))]),s("v-select",{attrs:{options:t.Roles,reduce:function(t){return t.id},label:"name"},model:{value:t.selectedRole,callback:function(e){t.selectedRole=e},expression:"selectedRole"}}),t.errors.permissions?s("small",{staticClass:"text-danger"},[t._v(t._s(t.errors.permissions[0]))]):t._e()],1)],1),s("b-row",[s("b-col",{staticClass:"mt-2 d-flex justify-content-end",attrs:{cols:"12"}},[s("b-button",{attrs:{variant:"primary"},on:{click:t.close}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),s("b-button",{staticClass:"ml-1",attrs:{variant:"success"},on:{click:t.ChangeRole}},[t._v(" "+t._s(t.$t("Confirm"))+" ")])],1)],1)],1)],1)},_=[],C={name:"ChangeRole",props:{value:{default:null,type:Boolean},user:{default:null,type:Number}},data:function(){return{errors:[],selectedRole:null,userData:{}}},computed:{isActive:{get:function(){return this.getData()},set:function(t){this.$emit("input",t)}},User:function(){return this.$store.getters["user/GetElement"]},Roles:function(){return this.$store.getters["role/Elements"]}},methods:{getData:function(){var t=this;return this.value&&this.$store.dispatch("user/GetElement",this.user).then((function(){t.userData=t.User,t.$store.dispatch("role/GetElements").then((function(){t.selectedRole=t.userData.role_id}))})),this.value},close:function(){this.isActive=!1,this.userData={},this.selectedRole=null},ChangeRole:function(){var t=this;this.$store.dispatch("user/ChangeRole",{role_id:this.selectedRole,user:this.userData.id}).then((function(){t.close()}))}}},$=C,k=Object(u["a"])($,w,_,!1,null,null,null),y=k.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-modal",{attrs:{title:t.$t("Change Status"),"hide-footer":"","no-close-on-backdrop":""},on:{close:t.close,hide:t.close},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},["active"===t.userData.status?s("b-badge",{staticClass:"mt-1",attrs:{variant:"light-danger"}},[t._v(" "+t._s(t.$t("are you sure you want to Block this user"))+" ")]):t._e(),"blocked"===t.userData.status||"deactivated"===t.userData.status?s("b-badge",{staticClass:"mt-1",attrs:{variant:"light-success"}},[t._v(" "+t._s(t.$t("are you sure you want to activate this user"))+" ")]):t._e(),s("br"),"blocked"===t.userData.status?s("b-badge",{staticClass:"mt-2",attrs:{variant:"light-danger"}},[t._v(" "+t._s(t.$t("this user was blocked because"))+" "+t._s(t.userData.blocked_reason)+" ")]):t._e(),"active"===t.userData.status?s("div",[s("div",{staticClass:"form-label-group"},[s("b-form-input",{staticClass:"mt-3",attrs:{placeholder:t.$t("Blocked Reason")},model:{value:t.userData.blocked_reason,callback:function(e){t.$set(t.userData,"blocked_reason",e)},expression:"userData.blocked_reason"}}),s("label",[t._v(t._s(t.$t("Blocked Reason")))])],1)]):t._e(),s("b-row",[s("b-col",{staticClass:"mt-2 d-flex justify-content-end",attrs:{cols:"12"}},[s("b-button",{attrs:{variant:"primary"},on:{click:t.close}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),s("b-button",{staticClass:"ml-1",attrs:{variant:"success"},on:{click:t.ChangeStatus}},[t._v(" "+t._s(t.$t("Confirm"))+" ")])],1)],1)],1)],1)},x=[],D={name:"ChangeStatus",props:{value:{default:null,type:Boolean},user:{default:null,type:Number}},data:function(){return{errors:[],userData:{}}},computed:{isActive:{get:function(){return this.getData()},set:function(t){this.$emit("input",t)}},User:function(){return this.$store.getters["user/GetElement"]}},methods:{getData:function(){var t=this;return this.value&&this.$store.dispatch("user/GetElement",this.user).then((function(){t.userData=t.User})),this.value},close:function(){this.isActive=!1,this.userData={}},ChangeStatus:function(){var t=this;"active"===this.userData.status?this.userData.status="blocked":"deactivated"!==this.userData.status&&"blocked"!==this.userData.status||(this.userData.status="active"),this.$store.dispatch("user/ChangeStatus",this.userData).then((function(){t.close()}))}}},R=D,S=Object(u["a"])(R,P,x,!1,null,null,null),A=S.exports,G={components:{ChangeStatus:A,ChangeRole:y,UserExp:g,ChangePassword:m},data:function(){return{deleteUser:!1,changeStatus:!1,changePassword:!1,changeRole:!1,user:null,perPage:5,currentPage:1,filter:null}},computed:{fields:function(){return[{key:"id",label:this.$t("id")},{key:"avatar",label:this.$t("avatar")},{key:"name",label:this.$t("name")},{key:"user_name",label:this.$t("user_name")},{key:"contact",label:this.$t("contact")},{key:"created_at_updated_at",label:this.$t("created_at_updated_at")},{key:"role",label:this.$t("role")},{key:"options",label:this.$t("options")}]},auth:function(){return this.$store.getters["auth/GetAuth"]},items:function(){return this.$store.getters["user/GetElements"]},totalRows:function(){return this.items.length}},created:function(){this.$store.dispatch("user/GetElements")},methods:{path:function(t){return this.full_path(t)},Delete:function(t){this.deleteUser=!0,this.user=t},ConfirmDelete:function(){this.$store.dispatch("user/Delete",this.user)},ChangeStatus:function(t){this.user=t,this.changeStatus=!0},ChangeRole:function(t){this.user=t,this.changeRole=!0},ChangePassword:function(t){this.changePassword=!0,this.user=t}}},U=G,E=Object(u["a"])(U,a,r,!1,null,null,null);e["default"]=E.exports}}]);
//# sourceMappingURL=chunk-2d0ab8b5.18657eb7.js.map