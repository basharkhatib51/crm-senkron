(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77d95d48"],{4690:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",{staticClass:"mt-5",attrs:{title:t.$t("Explanation")}},[s("b-row",{staticClass:"mt-1"},[s("b-col",{attrs:{cols:"3"}},[s("b-badge",{attrs:{variant:"light-success"}},[s("font-awesome-icon",{attrs:{icon:["fas","table"]}}),t._v(" "+t._s(t.$t("Created At"))+" ")],1)],1),s("b-col",{attrs:{cols:"3"}},[s("b-badge",{attrs:{variant:"light-warning"}},[s("font-awesome-icon",{attrs:{icon:["fas","calendar-week"]}}),t._v(" "+t._s(t.$t("Updated At"))+" ")],1)],1),s("b-col",{attrs:{cols:"3"}},[s("b-badge",{attrs:{variant:"light-success"}},[s("font-awesome-icon",{attrs:{icon:["fas","edit"]}}),t._v(" "+t._s(t.$t("Edit"))+" ")],1)],1),s("b-col",{attrs:{cols:"3"}},[s("b-badge",{attrs:{variant:"light-danger"}},[s("font-awesome-icon",{attrs:{icon:["fas","trash"]}}),t._v(" "+t._s(t.$t("Delete"))+" ")],1)],1)],1)],1)],1)},r=[],i={name:"ListExp"},o=i,n=s("2877"),l=Object(n["a"])(o,a,r,!1,null,null,null);e["a"]=l.exports},d2ca:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-modal",{attrs:{title:t.$t("Delete Role"),"ok-title":t.$t("Delete"),"cancel-title":t.$t("cancel"),"ok-variant":"danger","cancel-variant":"primary"},on:{close:function(e){t.deleteRole=!1},cancel:function(e){t.deleteRole=!1},ok:t.ConfirmDelete},model:{value:t.deleteRole,callback:function(e){t.deleteRole=e},expression:"deleteRole"}},[s("b-badge",{staticClass:"mt-1",attrs:{variant:"light-danger"}},[t._v(" "+t._s(t.$t("are you sure you want to delete this role"))+" ")])],1),s("create-role",{model:{value:t.newRole,callback:function(e){t.newRole=e},expression:"newRole"}}),s("edit-role",{attrs:{role:t.role},model:{value:t.editRole,callback:function(e){t.editRole=e},expression:"editRole"}}),s("permissions",{attrs:{role:t.role},model:{value:t.PermissionList,callback:function(e){t.PermissionList=e},expression:"PermissionList"}}),s("h3",{staticClass:"mb-3"},[t._v(" "+t._s(t.$t("Roles"))+" ")]),s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("b-button",{attrs:{variant:"gradient-success"},on:{click:function(e){t.newRole=!0}}},[t._v(" "+t._s(t.$t("Create new"))+" ")])],1)],1),s("b-overlay",{attrs:{show:t.elementLoading,rounded:"sm",variant:"transparent",opacity:.8,blur:"2px","spinner-variant":"primary","spinner-type":"grow","spinner-small":""}},[s("b-card",{staticClass:"mt-5"},[s("b-card-title",[s("b-row",[s("b-col",{attrs:{cols:"8"}},[s("h3",[t._v(" "+t._s(t.$t("Roles"))+" ")])]),s("b-col",{attrs:{cols:"4"}},[s("b-input-group",[s("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:t.$t("Type to Search")},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)],1)],1)],1),t.roles.length>0?s("b-table",{attrs:{responsive:"sm",items:t.roles,filter:t.filter,"per-page":t.perPage,fields:t.fields,"current-page":t.currentPage},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[s("b-badge",{attrs:{variant:"light-primary"}},[t._v(" "+t._s(e.item.no)+" ")])]}},{key:"cell(name)",fn:function(e){return[s("span",{staticClass:"text-primary"},[t._v(" "+t._s(e.value)+" ")])]}},{key:"cell(created_at_updated_at)",fn:function(e){return[s("div",[s("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.item.created_at,variant:"success",placement:"top"},expression:"{title:data.item.created_at,variant:'success',placement:'top'}",modifiers:{hover:!0}}],attrs:{variant:"light-success"}},[s("font-awesome-icon",{attrs:{icon:["fas","table"]}}),t._v(" "+t._s(e.item.created_from)+" ")],1),s("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.item.created_at,variant:"warning",placement:"top"},expression:"{ title:data.item.created_at,variant:'warning',placement:'top'}",modifiers:{hover:!0}}],staticClass:"ml-1",attrs:{variant:"light-warning"}},[s("font-awesome-icon",{attrs:{icon:["fas","calendar-week"]}}),t._v(" "+t._s(e.item.updated_from)+" ")],1)],1)]}},{key:"cell(permissions)",fn:function(e){return[s("b-button",{attrs:{variant:"outline-primary"},on:{click:function(s){return t.ViewPermissions(e.item.id)}}},[s("font-awesome-icon",{attrs:{icon:["fas","key"]}}),t._v(" "+t._s(e.value.length)+" ")],1)]}},{key:"cell(options)",fn:function(e){return[s("div",{staticClass:"w-max"},[s("a",{staticClass:"text-success",on:{click:function(s){return t.Edit(e.item.id)}}},[s("font-awesome-icon",{attrs:{icon:["fas","edit"]}})],1),s("a",{staticClass:"ml-2 text-danger",on:{click:function(s){return t.Delete(e.item.id)}}},[s("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])]}}],null,!1,911393392)}):s("b-row",{staticClass:"d-flex justify-content-center"},[s("b-col",{attrs:{cols:"4"}},[s("b-alert",{attrs:{variant:"danger",show:""}},[s("div",{staticClass:"alert-body text-center"},[s("span",[t._v(t._s(t.$t("No Data Available")))])])])],1)],1),s("b-row",[s("b-col",{staticClass:"d-flex justify-content-end mt-2",attrs:{cols:"12"}},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"center",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1),s("list-exp")],1)},r=[],i=s("4690"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-modal",{ref:"my-modal",attrs:{title:t.$t("Edit Role"),"hide-footer":"","no-close-on-backdrop":""},on:{close:t.close,hide:t.close},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[s("b-row",[s("b-col",{staticClass:"mt-2",attrs:{cols:"12"}},[s("div",{staticClass:"form-label-group"},[s("b-form-input",{attrs:{id:"floating-label1",state:!t.errors.name&&null,placeholder:t.$t("Name")},model:{value:t.roleData.name,callback:function(e){t.$set(t.roleData,"name",e)},expression:"roleData.name"}}),t.errors.name?s("small",{staticClass:"text-danger"},[t._v(t._s(t.errors.name[0]))]):t._e(),s("label",[t._v(t._s(t.$t("Name")))])],1)]),s("b-col",{staticClass:"mt-2 mb-2",attrs:{cols:"12"}},[s("label",[t._v(t._s(t.$t("Permissions")))]),s("v-select",{attrs:{multiple:"",options:t.Permissions,reduce:function(t){return t.id},label:"name"},model:{value:t.roleData.permissions,callback:function(e){t.$set(t.roleData,"permissions",e)},expression:"roleData.permissions"}}),t.errors.permissions?s("small",{staticClass:"text-danger"},[t._v(t._s(t.errors.permissions[0]))]):t._e()],1)],1),s("b-row",[s("b-col",{staticClass:"d-flex justify-content-end",attrs:{cols:"12"}},[s("b-button",{attrs:{variant:"primary"},on:{click:t.close}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),s("b-button",{staticClass:"ml-1",attrs:{variant:"success"},on:{click:t.Edit}},[t._v(" "+t._s(t.$t("Confirm"))+" ")])],1)],1)],1)],1)},n=[],l=(s("a9e3"),{name:"EditRole",props:{value:{default:null,type:Boolean},role:{default:null,type:Number}},data:function(){return{errors:[],roleData:{},selectedPermissions:[]}},computed:{Permissions:function(){return this.$store.getters["role/Permissions"]},isActive:{get:function(){return this.getData()},set:function(t){this.$emit("input",t)}}},methods:{getData:function(){var t=this;return this.value&&this.$store.dispatch("role/GetElement",this.role).then((function(e){t.roleData=e.data.role,t.$store.dispatch("role/GetPermissions")})),this.value},close:function(){this.isActive=!1,this.roleData={}},Edit:function(){var t=this;this.$store.dispatch("role/Update",this.roleData).then((function(){t.errors=[],t.isActive=!1})).catch((function(e){t.errors=e.response.data.errors}))}}}),c=l,u=s("2877"),m=Object(u["a"])(c,o,n,!1,null,null,null),d=m.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-modal",{ref:"my-modal",attrs:{title:t.$t("New Role"),"hide-footer":"","no-close-on-backdrop":""},on:{close:t.close,hide:t.close},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[s("b-row",[s("b-col",{staticClass:"mt-2",attrs:{cols:"12"}},[s("div",{staticClass:"form-label-group"},[s("b-form-input",{attrs:{id:"role",state:!t.errors.name&&null,placeholder:t.$t("Name")},model:{value:t.role.name,callback:function(e){t.$set(t.role,"name",e)},expression:"role.name"}}),t.errors.name?s("small",{staticClass:"text-danger"},[t._v(t._s(t.errors.name[0]))]):t._e(),s("label",[t._v(t._s(t.$t("Name")))])],1)]),s("b-col",{staticClass:"mt-2 mb-2",attrs:{cols:"12"}},[s("label",[t._v(t._s(t.$t("Permissions")))]),s("v-select",{attrs:{multiple:"",options:t.Permissions,reduce:function(t){return t.id},label:"name"},model:{value:t.role.permissions,callback:function(e){t.$set(t.role,"permissions",e)},expression:"role.permissions"}}),t.errors.permissions?s("small",{staticClass:"text-danger"},[t._v(t._s(t.errors.permissions[0]))]):t._e()],1)],1),s("b-row",[s("b-col",{staticClass:"d-flex justify-content-end",attrs:{cols:"12"}},[s("b-button",{attrs:{variant:"primary"},on:{click:t.close}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),s("b-button",{staticClass:"ml-1",attrs:{variant:"success"},on:{click:t.create}},[t._v(" "+t._s(t.$t("Create"))+" ")])],1)],1)],1)],1)},f=[],v=(s("b0c0"),{name:"CreateRole",props:{value:{default:null,type:Boolean}},data:function(){return{errors:[],role:{permissions:[],name:""}}},computed:{Permissions:function(){return this.$store.getters["role/Permissions"]},isActive:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},watch:{value:function(t){t&&this.$store.dispatch("role/GetPermissions")}},methods:{close:function(){this.isActive=!1,this.role.permissions=[],this.role.name="",this.errors=[]},create:function(){var t=this;this.$store.dispatch("role/Create",this.role).then((function(){t.role.permissions=[],t.role.name="",t.errors=[],t.isActive=!1})).catch((function(e){t.errors=e.response.data.errors,t.role.permissions=[],t.role.name=""}))}}}),b=v,h=Object(u["a"])(b,p,f,!1,null,null,null),_=h.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-modal",{ref:"my-modal",attrs:{title:t.$t("Permissions"),"ok-title":t.$t("Close"),"ok-only":"","ok-variant":"outline-primary","no-close-on-backdrop":""},on:{ok:t.close,close:t.close,hide:t.close},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[s("b-overlay",{attrs:{show:t.elementLoading,rounded:"sm",variant:"transparent",opacity:.8,blur:"2px","spinner-variant":"primary","spinner-type":"grow","spinner-small":""}},[s("b-row",[t.roleData.permissions.length>0?s("b-col",{staticClass:"mt-1",attrs:{cols:"12"}},t._l(t.roleData.permissions,(function(e,a){return s("b-badge",{key:a,staticClass:"mr-1 mb-1",attrs:{variant:"light-primary"}},[t._v(" "+t._s(e.name)+" ")])})),1):s("b-col",{staticClass:"d-flex justify-content-center"},[s("b-alert",{attrs:{variant:"danger",show:""}},[s("div",{staticClass:"alert-body text-center"},[s("span",[t._v(t._s(t.$t("No Data Available")))])])])],1)],1)],1)],1)],1)},$=[],w={name:"Permissions",props:{value:{default:null,type:Boolean},role:{default:null,type:Number}},data:function(){return{roleData:{permissions:[]}}},computed:{isActive:{get:function(){return this.getData()},set:function(t){this.$emit("input",t)}}},methods:{getData:function(){var t=this;return this.value&&this.$store.dispatch("role/GetElement",this.role).then((function(e){t.roleData=e.data.role})),this.value},close:function(){this.isActive=!1}}},y=w,k=Object(u["a"])(y,g,$,!1,null,null,null),C=k.exports,x={components:{ListExp:i["a"],Permissions:C,CreateRole:_,EditRole:d},data:function(){return{role:null,filter:null,newRole:!1,PermissionList:!1,editRole:!1,deleteRole:!1,perPage:5,currentPage:1}},computed:{fields:function(){return[{key:"id",label:this.$t("id")},{key:"name",label:this.$t("name")},{key:"permissions",label:this.$t("permissions")},{key:"created_at_updated_at",label:this.$t("created_at_updated_at")},{key:"options",label:this.$t("options")}]},totalRows:function(){return this.roles.length},roles:function(){return this.$store.getters["role/Elements"]}},created:function(){this.$store.dispatch("role/GetElements")},methods:{Delete:function(t){this.deleteRole=!0,this.role=t},ConfirmDelete:function(){this.$store.dispatch("role/Delete",this.role)},Edit:function(t){this.editRole=!0,this.role=t},ViewPermissions:function(t){this.PermissionList=!0,this.role=t}}},P=x,D=Object(u["a"])(P,a,r,!1,null,null,null);e["default"]=D.exports}}]);
//# sourceMappingURL=chunk-77d95d48.d645c03b.js.map